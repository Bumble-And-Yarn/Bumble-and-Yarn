<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Your Basket | Bumble & Yarn</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h2>Your Basket</h2>

<div id="basket"></div>
<h3 id="total"></h3>

<script>
function renderBasket() {
  const basket = JSON.parse(localStorage.getItem("basket")) || [];
  const container = document.getElementById("basket");
  const totalEl = document.getElementById("total");

  container.innerHTML = "";
  let total = 0;

  basket.forEach((item, index) => {
    total += item.price;

    const div = document.createElement("div");
    div.className = "basket-item";

    div.innerHTML = `
      <img src="${item.image}">
      <div style="flex:1; text-align:left;">
        <strong>${item.name}</strong><br>
        ${item.option}${item.color ? " â€“ " + item.color : ""}<br>
        Â£${item.price.toFixed(2)}
      </div>
      <button class="remove-btn" title="Remove item">ğŸ—‘ï¸</button>
    `;

    div.querySelector(".remove-btn").onclick = () => {
      basket.splice(index, 1);
      localStorage.setItem("basket", JSON.stringify(basket));
      renderBasket();
    };

    container.appendChild(div);
  });

  totalEl.innerText = "Total: Â£" + total.toFixed(2);
}

renderBasket();
</script>

</body>
</html>
