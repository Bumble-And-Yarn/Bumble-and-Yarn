<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Shop | Bumble & Yarn</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header class="header">
  <img src="logo.jpg" class="logo">
  <h1>Bumble & Yarn</h1>
  <nav class="nav">
    <a href="index.html">Home</a>
    <a href="products.html">Shop</a>
    <a href="checkout.html">Checkout</a>
  </nav>
</header>

<!-- âœ… CATEGORY DROPDOWN -->
<div style="text-align:center; margin:20px;">
  <select id="categoryFilter" onchange="filterProducts()">
    <option value="all">All Products</option>
    <option value="coasters">Coasters</option>
    <option value="special">Special Sets</option>
  </select>
</div>

<main class="products">

  <!-- FLURRY -->
  <div class="product" data-category="coasters">
    <img src="flurry coaster.jpg">
    <h3>Flurry Coaster</h3>

    <select class="price">
      <option value="8">Â£8 â€“ Set of 2</option>
      <option value="16">Â£16 â€“ Set of 4</option>
      <option value="24">Â£24 â€“ Set of 6</option>
    </select>

    <select class="color">
      <option>White</option>
      <option>Blue</option>
      <option>Grey</option>
      <option>Pink</option>
    </select>

    <button onclick="addToBasket('Flurry Coaster','flurry coaster.jpg')">
      Add to basket
    </button>
  </div>

  <!-- FLOWER PETAL -->
  <div class="product" data-category="coasters">
    <img src="flower petal coaster.jpg">
    <h3>Flower Petal Coaster</h3>

    <select class="price">
      <option value="8">Â£8 â€“ Set of 2</option>
      <option value="16">Â£16 â€“ Set of 4</option>
      <option value="24">Â£24 â€“ Set of 6</option>
    </select>

    <select class="color">
      <option>Pink</option>
      <option>Purple</option>
      <option>Yellow</option>
      <option>White</option>
    </select>

    <button onclick="addToBasket('Flower Petal Coaster','flower petal coaster.jpg')">
      Add to basket
    </button>
  </div>

  <!-- HELM -->
  <div class="product" data-category="coasters">
    <img src="helm coaster.jpg">
    <h3>Helm Coaster</h3>

    <select class="price">
      <option value="9">Â£9 â€“ Set of 2</option>
      <option value="18">Â£18 â€“ Set of 4</option>
      <option value="27">Â£27 â€“ Set of 6</option>
    </select>

    <select class="color">
      <option>Blue</option>
      <option>Grey</option>
      <option>Natural</option>
    </select>

    <button onclick="addToBasket('Helm Coaster','helm coaster.jpg')">
      Add to basket
    </button>
  </div>

  <!-- CACTUS -->
  <div class="product" data-category="special">
    <img src="cactus coaster.jpg">
    <h3>Cactus Coaster</h3>

    <select class="price">
      <option value="8">Â£8 â€“ Set of 2 (no pot)</option>
      <option value="16">Â£16 â€“ Set of 4 (no pot)</option>
      <option value="24">Â£24 â€“ Set of 6 (no pot)</option>
      <option value="23">Â£23 â€“ Set of 2 (with pot)</option>
      <option value="31">Â£31 â€“ Set of 4 (with pot)</option>
    </select>

    <select class="color">
      <option>Green</option>
      <option>Light Green</option>
      <option>Dark Green</option>
    </select>

    <button onclick="addToBasket('Cactus Coaster','cactus coaster.jpg')">
      Add to basket
    </button>
  </div>

</main>

<a href="checkout.html" class="basket-icon">ðŸ›’</a>

<script>
function addToBasket(name, img) {
  const product = event.target.closest('.product');
  const priceSelect = product.querySelector('.price');
  const colorSelect = product.querySelector('.color');

  const item = {
    name,
    image: img,
    price: Number(priceSelect.value),
    priceText: priceSelect.options[priceSelect.selectedIndex].text,
    color: colorSelect.value
  };

  const basket = JSON.parse(localStorage.getItem('basket')) || [];
  basket.push(item);
  localStorage.setItem('basket', JSON.stringify(basket));

  alert("Added to basket!");
}

function filterProducts() {
  const selected = document.getElementById("categoryFilter").value;
  const products = document.querySelectorAll(".product");

  products.forEach(p => {
    if (selected === "all" || p.dataset.category === selected) {
      p.style.display = "block";
    } else {
      p.style.display = "none";
    }
  });
}
</script>

</body>
</html>
