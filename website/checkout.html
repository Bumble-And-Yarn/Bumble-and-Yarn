<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Checkout</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header class="header">
  <img src="logo.jpg" class="logo">
  <h1>Bumble & Yarn</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="products.html">Shop</a>
    <a href="checkout.html">Checkout</a>
  </nav>
</header>

<h2>Your Basket</h2>

<div id="basket"></div>

<h3 id="total" style="margin-top:20px;"></h3>

<!-- Future Stripe page -->
<a href="payment.html" class="checkout-btn">Checkout</a>

<script>
  const basketDiv = document.getElementById("basket");
  const totalDiv = document.getElementById("total");
  const basket = JSON.parse(localStorage.getItem("basket")) || [];

  let total = 0;

  if (basket.length === 0) {
    basketDiv.innerHTML = "<p>Your basket is empty.</p>";
    totalDiv.textContent = "";
  } else {
    basket.forEach((item, index) => {
      total += item.price;

      const row = document.createElement("div");
      row.className = "basket-item";
      row.innerHTML = `
        <span>${item.name}</span>
        <span>¬£${item.price.toFixed(2)}</span>
        <button onclick="removeItem(${index})">üóëÔ∏è</button>
      `;
      basketDiv.appendChild(row);
    });

    totalDiv.textContent = `Total: ¬£${total.toFixed(2)}`;
  }

  function removeItem(index) {
    basket.splice(index, 1);
    localStorage.setItem("basket", JSON.stringify(basket));
    location.reload();
  }
</script>

</body>
</html>
